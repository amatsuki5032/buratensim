# ブラ天 戦闘シミュレーター

ブラウザ三国志天の戦闘をシミュレートするWebツール。

## リンク

- **アプリ**: (GitHub Pages URLをここに)
- **リポジトリ**: (GitHub URLをここに)

## 機能

- 部隊編成（主将 + 副将2人、コスト制）
- 兵科選択（騎兵/盾兵/弓兵/槍兵/兵器）と相性計算
- スキル選択・レベル設定
- 1戦シミュレーション（詳細ログ付き）
- N戦シミュレーション（勝率統計）
- ダメージソース表示
- ダーク/ライトテーマ切替

## 技術スタック

- Vanilla JavaScript (ES Modules)
- CSS Variables によるテーマ管理
- ビルドツールなし

## 仕様

仕様書: `ブラ天sim_仕様まとめ.md`

### 実装済み

- 基本戦闘（8ターン制、速度順行動）
- ダメージ計算（武力/計略、兵科相性、士気補正、適性補正）
- 負傷兵システム（90%負傷/10%即死、ターン終了10%死亡、戦闘終了30%死亡）
- 特殊効果（麻痺、火計、混乱、挑発、回復無効、連撃、反撃、追撃、持続回復、バフ/デバフ）
- スキルシステム（アクティブ/パッシブ/始動、レベル補正）
- 武将データ 39人（サンプル）
- スキルデータ 43個（サンプル）

### 今後

- 全124武将・125スキルのデータ投入
- Firebase連携（編成保存、共有）
- クリティカルシステム
- 装備・軍馬システム

## ローカル起動

ES Modulesを使用しているため、ローカルサーバーが必要です。

```bash
# Python
python -m http.server 8000

# Node.js
npx serve .
```

## ファイル構成

```
├── index.html
├── css/
│   ├── common-theme.css    # テーマ変数
│   └── main.css            # メインスタイル
├── js/
│   ├── app.js              # エントリーポイント
│   ├── data/
│   │   ├── constants.js    # ゲーム定数
│   │   ├── generals.js     # 武将データ
│   │   └── skills.js       # スキルデータ
│   ├── engine/
│   │   ├── battle-engine.js # 戦闘エンジン
│   │   ├── damage.js       # ダメージ計算
│   │   └── unit.js         # ユニットクラス
│   └── ui/
│       ├── team-builder.js  # 編成UI
│       ├── general-modal.js # 武将選択
│       └── battle-viewer.js # 結果表示
└── README.md
```
